---
# tasks file for openjdk
- name: Ensure latest openjdk is installed
  yum:
    name: java
    state: latest
    update_cache: yes
  tags: install
  when: ansible_distribution == "CentOS" and ansible_distribution_major_version >= "7"

- name: Ensure latest openjdk is installed
  yum:
    name: java-1.8.0
    state: latest
    update_cache: yes
  tags: install
  when: ansible_distribution == "Amazon"

- name: Ensure java profile
  template:
    src: java.sh.j2
    dest: /etc/profile.d/java.sh
    mode: 0644
  tags: config

